<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 2 › lic-blog</title>
  <meta name="author" content="triumphLic">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="lic-blog"/>

  
    <meta property="og:image" content=""/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="lic-blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  

<meta name="generator" content="Hexo 4.2.0"></head>


<body>
  <header id="header"><div class="meta inner">
  <h1><a href="/">lic-blog</a></h1>
  <h2><a href="/"></a></h2>
  <nav id="main-nav">
    <ul>
      
    </ul>
    <div class="clearfix"></div>
  </nav>
</div>
<div class="clearfix"></div>
</header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/2020/07/08/js-base-5/">js基础:this指向call、apply、bind</a></h1>
  

      
        <time datetime="2020-07-08T11:08:58.000Z">2020-07-08</time>
      
    </header>
    <div class="entry">
      
        <h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><p>this原理<a href="https://www.ruanyifeng.com/blog/2018/06/javascript-this.html" target="_blank">阮一峰博客</a>讲的很好了</p>
<p>this是js里面很特殊的一个东西，整个js是词法作用域的（静态），但是this的指向确实动态的</p>
<p>this指向当前执行上下文环境，运行时环境。</p>
<h2 id="this的指向整理"><a href="#this的指向整理" class="headerlink" title="this的指向整理"></a>this的指向整理</h2><p><a href="https://www.ruanyifeng.com/blog/2018/06/javascript-this.html" target="_blank">MDN地址</a></p>
<ol>
<li><h2 id="全局环境中"><a href="#全局环境中" class="headerlink" title="全局环境中"></a>全局环境中</h2><p> 无论是否是严格模式，this都指向全局对象window、global</p>
</li>
<li><h2 id="函数执行环境中（运行时）"><a href="#函数执行环境中（运行时）" class="headerlink" title="函数执行环境中（运行时）"></a>函数执行环境中（运行时）</h2></li>
</ol>
<ul>
<li>正常调用<br>  函数内是严格模式，this指向undefined，非严格模式下指向全局对象</li>
</ul>
<h2 id="call"><a href="#call" class="headerlink" title="call"></a>call</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">c, d , e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.a + <span class="keyword">this</span>.b + c + d + e </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;</span><br><span class="line">sum.call(obj, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>) <span class="comment">// 15</span></span><br></pre></td></tr></table></figure>

<p>call 用来改变函数运行时this的指向</p>
<p>传参格式是 fun.call(obj, arg0, arg1…)</p>
<h2 id="apply"><a href="#apply" class="headerlink" title="apply"></a>apply</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 上面的函数也可以这样调用</span></span><br><span class="line">sum.apply(obj, [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]) <span class="comment">// 15</span></span><br></pre></td></tr></table></figure>

<p>apply的行为是和call一致的，传参的方式不一致。<br>传参方式是fun.apply(obj, [arg1, arg2, …])</p>
<h2 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h2><p>bind的行为方式和call、apply是不一致的</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 同样的期望，bind的方式是这样的</span></span><br><span class="line">sum.bind(obj)(<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>) <span class="comment">// 15</span></span><br></pre></td></tr></table></figure>

<p>可以看到，bind操作会产生一个新的函数，这个函数的this被绑定到了指定的对象上了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> newSum = sum.bind(obj)</span><br><span class="line">newSum(<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>) <span class="comment">// 15</span></span><br></pre></td></tr></table></figure>

<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>call、apply会执行函数，这一次调用的this被替换了，再次正常调用原函数，this还是原来的指向<br>bind会返回一个改变了this的新函数，新函数的this被改变成了指定的对象</p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>

<!--
 * @Author       : licheng252@xdf.cn
 * @Date         : 2020-04-21 16:01:24
 * @LastEditors  : licheng252@xdf.cn
 * @LastEditTime : 2020-05-11 21:27:37
 * @Description  : 描述信息
 -->




  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/2020/07/06/js-base-4/">js基础--js执行机制</a></h1>
  

      
        <time datetime="2020-07-06T13:01:10.000Z">2020-07-06</time>
      
    </header>
    <div class="entry">
      
        <h2 id="js执行机制"><a href="#js执行机制" class="headerlink" title="js执行机制"></a>js执行机制</h2><p>首先，<em>js是单线程的</em>，它从诞生就是单线程的。</p>
<p>为什么不能是多线程？浏览器两个线程同时操作Dom，就没得玩了</p>
<p>tip： html5的web worker标准，允许js脚本创建多个线程，但是完全被主线程控制，且不能操作Dom</p>
<h2 id="运行环境"><a href="#运行环境" class="headerlink" title="运行环境"></a>运行环境</h2><p>  js的运行环境一定不是单线程的。</p>
<p>  浏览器中，常驻线程就三个： js执行主线程，GUI渲染线程，事件监听线程。<br>  还有http请求线程，定时器线程</p>
<p>  Dom渲染时，js线程会被挂起。</p>
<h2 id="线程和进程"><a href="#线程和进程" class="headerlink" title="线程和进程"></a>线程和进程</h2><p>  进程是CPU分配资源的最小单位，线程是资源执行的最小单位。</p>
<p>  一个进程没有线程就不能执行，那就只是静止的资源。</p>
<p>  进程中可以存在很多线程，线程的通行可以通过资源内存共享比较方便。进程之间通行就得通过管道、消息来通信了。</p>
<p>  打开浏览器会启动这几个<strong>进程</strong></p>
<ul>
<li><p>browser进程，控制与用户交互，前进后退，渲染等行为</p>
</li>
<li><p>GPU进程，控制3D渲染，如果没有开启硬件加速，则使用browser进程渲染</p>
</li>
<li><p>插件进程，以保证插件崩了网页不崩</p>
<p>那么js运行在哪呢？render进程</p>
<p>每次打开一个Tab标签页面，对应的浏览器都会启动一个新的<strong>Render进程</strong><br><em>但是相同的站点，只有一个进程</em>，相同的协议，相同的根域名</p>
<p>这个render进程里，有很多线程。</p>
<p>三个常驻线程：</p>
<ul>
<li>js执行主进程</li>
<li>GUI渲染进程，页面渲染，重绘，回流都得触发它，执行时主线程挂起</li>
<li>事件监听触发线程<br>还有</li>
<li>http请求线程</li>
<li>定时器线程</li>
</ul>
</li>
</ul>
<h2 id="任务队列"><a href="#任务队列" class="headerlink" title="任务队列"></a>任务队列</h2><p>  单线程意味着，一个时间，js只能做一件事，做一个任务。</p>
<p>  那么，js执行就得排队</p>
<p>  如果，所有的任务都一件一件顺序执行，那么有一些Ajax请求很耗时，不能等到它执行完再走下一个任务。</p>
<h4 id="所以，js的任务分成了两种，同步任务-amp-异步任务"><a href="#所以，js的任务分成了两种，同步任务-amp-异步任务" class="headerlink" title="所以，js的任务分成了两种，同步任务 &amp; 异步任务"></a>所以，js的任务分成了两种，同步任务 &amp; 异步任务</h4><ul>
<li><p>同步任务： 在主线程上执行，只有上一个任务完成了，才会执行下一个任务，形成了一个执行栈</p>
</li>
<li><p>异步任务： 不进入主进程执行，被推入<strong>异步队列</strong>（task queue），只有任务队列通知主线程某个任务需要执行了，才会进入主线程执行</p>
<h4 id="所以js的异步执行模式就是这样的"><a href="#所以js的异步执行模式就是这样的" class="headerlink" title="所以js的异步执行模式就是这样的"></a>所以js的异步执行模式就是这样的</h4><ul>
<li>同步任务，生成执行栈，一个一个顺序执行</li>
<li>异步任务被挂起，推到<strong>异步队列</strong>，等待执行</li>
<li>执行栈所有内容执行完，主线程读取“异步队列”的需要执行的任务，推到执行栈中执行</li>
<li>重复上面三步</li>
</ul>
</li>
</ul>
<h2 id="事件和回调函数"><a href="#事件和回调函数" class="headerlink" title="事件和回调函数"></a>事件和回调函数</h2><p>  <strong>异步任务队列</strong>，是一个<strong>事件的队列</strong>，无论是IO设备触发的事件，还是ajax事件，都是事件。</p>
<p>  每个事件都需要设置一个<strong>回调函数</strong>，它会被用来推到执行栈执行</p>
<p>  这些事件一触发，就相当于给“异步队列”通知说： ”我的回调函数可以被推到执行栈执行了！“</p>
<p>  只要主线程的执行栈一清空，任务队列第一个事件的回调函数就被推到主线程的执行栈执行了</p>
<h2 id="Event-Loop"><a href="#Event-Loop" class="headerlink" title="Event Loop"></a>Event Loop</h2><p>  上面介绍的</p>
<pre><code>主线程的执行栈清空、执行完之后，需要从异步任务队列中读取任务，这个过程是循环的：所以叫事件循环Event Loop</code></pre><p>  主线程运行的时候，产生堆（存放数据）栈（执行js任务）</p>
<p>  执行栈任务执行的同时，会调用一些IO的API，Ajax的API去产生新的异步任务，并且添加到异步任务队列中</p>
<p>  某一时刻执行栈中的代码，一定在异步任务队列执行前执行</p>
<h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><p>  setTimeout() &amp;&amp; setInterval()</p>
<p>  setTimeout(fn,0)的含义是，指定某个任务在主线程最早可得的空闲时间执行，也就是说，尽可能早得执行。它在”任务队列”的尾部添加一个事件，因此要等到同步任务和”任务队列”现有的事件都处理完，才会得到执行。</p>
<p>  队列： 队首添加，队尾删除。</p>
<p>  setTimeout(fn, 1000) ，会进入定时器线程进行倒计时，时间到了在主线程异步宏任务队列添加回调函数，等待主线程执行栈清空，主线程去任务队列取任务放在执行栈执行。</p>
<p>  如果主线程执行栈有任务正在执行，那势必会影响到定时器的准确性。</p>
<h2 id="宏任务、微任务"><a href="#宏任务、微任务" class="headerlink" title="宏任务、微任务"></a>宏任务、微任务</h2><p>  在浏览器环境里，宏任务微任务可以大致的分为，需要调用其他线程的API都是宏任务，js主线程产生的异步任务属于微任务。</p>
<p>  <strong>每个宏任务都关联了一个微任务队列</strong></p>
<p>  V8引擎在进入一个宏任务执行时，都会给这个宏任务生成一个微任务队列用于存放微任务。</p>
<p>  宏任务：</p>
<ul>
<li><p>setTimeout/setInterval</p>
</li>
<li><p>IO操作</p>
</li>
<li><p>http请求</p>
</li>
<li><p>script脚本执行</p>
</li>
<li><p>Dom渲染</p>
<p>微任务：</p>
</li>
<li><p>Promise</p>
</li>
<li><p>MutationObserver</p>
</li>
</ul>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>

<!--
 * @Author       : licheng252@xdf.cn
 * @Date         : 2020-04-21 16:01:24
 * @LastEditors  : licheng252@xdf.cn
 * @LastEditTime : 2020-05-11 21:27:37
 * @Description  : 描述信息
 -->




  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/2020/07/06/base-4/">js:x=y=0;a.x=a={n:1}</a></h1>
  

      
        <time datetime="2020-07-06T02:17:17.000Z">2020-07-06</time>
      
    </header>
    <div class="entry">
      
        <p>TIP:<em>这个面试题诞生以来就被各种讨论，记录一下自己的想法</em></p>
<h2 id="var-x-y-1"><a href="#var-x-y-1" class="headerlink" title="var x = y = 1"></a>var x = y = 1</h2><p>这个表达式可以被拆成</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x <span class="comment">// 变量声明提升</span></span><br><span class="line">y = <span class="number">1</span> <span class="comment">// 隐式创建一个全局变量</span></span><br><span class="line">x = y <span class="comment">// 赋值语句</span></span><br></pre></td></tr></table></figure>

<p>需要注意的就是 y = 1 表达式隐式的创建了全局对象y</p>
<h2 id="a-x-a-n-2"><a href="#a-x-a-n-2" class="headerlink" title="a.x = a = { n: 2 }"></a>a.x = a = { n: 2 }</h2><p>这段代码不好分析，网上一堆深奥的答案。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123; <span class="attr">n</span>: <span class="number">1</span> &#125;</span><br><span class="line">a.x = a = &#123; <span class="attr">n</span>: <span class="number">2</span> &#125;</span><br><span class="line"><span class="built_in">console</span>.log(a.x)  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p>最开始理解，会觉得a的值应该是这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  n: <span class="number">2</span>,</span><br><span class="line">  x: &#123;</span><br><span class="line">    n: <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>额，完全不是</p>
<p>a打印出来是： { n: 2 }</p>
<p>怎么都不好分析。不如把代码改写成这样</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123; <span class="attr">n</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">var</span> b = a <span class="comment">// 缓存一下初始的a</span></span><br><span class="line">a.x = a = &#123; <span class="attr">n</span>: <span class="number">2</span> &#125;</span><br><span class="line"><span class="built_in">console</span>.log(a.x)  <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// &#123; n: 2 &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(b) <span class="comment">// &#123; n: 1, x: &#123; n: 2 &#125; &#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>这个表达式和 var x = y = 1 的区别是：</strong></p>
<ul>
<li><h3 id="var-x-…-就是一个初始化赋值语句的左半边"><a href="#var-x-…-就是一个初始化赋值语句的左半边" class="headerlink" title="var x = … 就是一个初始化赋值语句的左半边"></a>var x = … 就是一个初始化赋值语句的左半边</h3></li>
</ul>
<p>而</p>
<ul>
<li><h3 id="a-x-本身就是一个语句。"><a href="#a-x-本身就是一个语句。" class="headerlink" title="a.x 本身就是一个语句。"></a>a.x 本身就是一个语句。</h3><ol>
<li>根据js从左到右的执行顺序，会先执行a.x（即取a的值，当前是 { n: 1 }, a.x= 等到给a.x赋值）</li>
<li>然后 a被赋了新的对象地址，把之前的a覆盖了</li>
<li>a.x 等待赋值，右侧 a = { n :2 }这个值。</li>
<li>可是刚刚1.这个阶段的a已经被覆盖了，a.x = { n: 2}执行之后也没有意义了。{ n: 1 } 这个值的指针被指到别的地了</li>
<li>打印出b, 发现b是原来的a的值，并且x也被赋值了。说明只是1. 这一步的赋值影响不到新的a了</li>
</ol>
</li>
</ul>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>

<!--
 * @Author       : licheng252@xdf.cn
 * @Date         : 2020-04-21 16:01:24
 * @LastEditors  : licheng252@xdf.cn
 * @LastEditTime : 2020-05-11 21:27:37
 * @Description  : 描述信息
 -->




  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/2020/07/05/base-3/">css:两栏、三栏、圣杯、双飞翼布局</a></h1>
  

      
        <time datetime="2020-07-05T13:05:36.000Z">2020-07-05</time>
      
    </header>
    <div class="entry">
      
        <h2 id="左侧固定，右侧自适应"><a href="#左侧固定，右侧自适应" class="headerlink" title="左侧固定，右侧自适应"></a>左侧固定，右侧自适应</h2><ul>
<li>float + margin</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者利用BFC<br>把main元素变成BFC，left就不会占用main的空间，左右隔开</p>
<ul>
<li>position + margin</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>:  <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>flex</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="attribute">flex</span>: <span class="number">1</span> <span class="number">1</span> auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>flex 布局的item其中<br>flex： a b c</p>
<p>a: flex-grow: 存在剩余空间是否放大<br>b: flex-shrink: 空间不够是否要缩小<br>c: flex-basics: 不缩小放大的占据主轴空间大小</p>
<h2 id="三栏布局"><a href="#三栏布局" class="headerlink" title="三栏布局"></a>三栏布局</h2><p><strong>左右固定，中间自适应</strong>，其实就是两列布局的翻版</p>
<p>其中特别的出现了<em>圣杯布局<em>和</em>双飞翼布局</em> </p>
<h2 id="圣杯布局-amp-双飞翼布局"><a href="#圣杯布局-amp-双飞翼布局" class="headerlink" title="圣杯布局 &amp; 双飞翼布局"></a>圣杯布局 &amp; 双飞翼布局</h2><p>tip: <strong>他们可以让中间内容区域首先渲染</strong></p>
<p>圣杯布局和双飞翼布局：</p>
<p>自元素都是float，父元素BFC</p>
<ul>
<li><h3 id="圣杯布局"><a href="#圣杯布局" class="headerlink" title="圣杯布局"></a>圣杯布局</h3></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;<span class="name">h4</span>&gt;</span>Header内容区<span class="tag">&lt;/<span class="name">h4</span>&gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span><span class="tag">&lt;<span class="name">h4</span>&gt;</span>中间弹性区<span class="tag">&lt;/<span class="name">h4</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span><span class="tag">&lt;<span class="name">h4</span>&gt;</span>左边栏<span class="tag">&lt;/<span class="name">h4</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span><span class="tag">&lt;<span class="name">h4</span>&gt;</span>右边栏<span class="tag">&lt;/<span class="name">h4</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;<span class="name">h4</span>&gt;</span>Footer内容区<span class="tag">&lt;/<span class="name">h4</span>&gt;</span><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>其中css为：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">header</span>, <span class="selector-tag">footer</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: scroll;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">100px</span> <span class="number">0</span> <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>, <span class="selector-class">.right</span>, <span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: blue;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">200px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: yellow;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="圣杯布局其中比较重要的点："><a href="#圣杯布局其中比较重要的点：" class="headerlink" title="圣杯布局其中比较重要的点："></a><strong>圣杯布局其中比较重要的点：</strong></h3><ul>
<li><p>container 容器需要设置成BFC，子元素都是浮动元素，container不设置成BFC在普通文档流中不占位</p>
</li>
<li><p>margin-left: -100%; // 为了浮动元素left能够到和main同一行，<a href="https://www.cnblogs.com/2050/archive/2012/08/13/2636467.html" target="__blank">参考文章</a><br>负边距可以</p>
<ol>
<li>让元素变大</li>
<li>让浮动元素重叠，后写的元素可以显示在先写的元素前（<strong>！！！这就是圣杯和双飞翼的关键！！！</strong>）</li>
</ol>
</li>
<li><p>position:relative + left 可以使这个元素水平偏移，top，bottom =&gt; 垂直偏移</p>
</li>
<li><h3 id="双飞翼布局"><a href="#双飞翼布局" class="headerlink" title="双飞翼布局"></a>双飞翼布局</h3></li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">header</span>&gt;</span><span class="tag">&lt;<span class="name">h4</span>&gt;</span>Header内容区<span class="tag">&lt;/<span class="name">h4</span>&gt;</span><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"innner"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h4</span>&gt;</span>中间弹性区<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span><span class="tag">&lt;<span class="name">h4</span>&gt;</span>左边栏<span class="tag">&lt;/<span class="name">h4</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span><span class="tag">&lt;<span class="name">h4</span>&gt;</span>右边栏<span class="tag">&lt;/<span class="name">h4</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">footer</span>&gt;</span><span class="tag">&lt;<span class="name">h4</span>&gt;</span>Footer内容区<span class="tag">&lt;/<span class="name">h4</span>&gt;</span><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>可以清楚的看到，它比圣杯布局多了一个inner的元素</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">header</span>,</span><br><span class="line"><span class="selector-tag">footer</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: scroll;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.left</span>,</span><br><span class="line"><span class="selector-class">.right</span>,</span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">  <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.main</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.inner</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">100px</span> <span class="number">0</span> <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: coral;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.left</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.right</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: transparent;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="双飞翼布局其中比较重要的点："><a href="#双飞翼布局其中比较重要的点：" class="headerlink" title="双飞翼布局其中比较重要的点："></a><strong>双飞翼布局其中比较重要的点：</strong></h3><ul>
<li>比圣杯布局多了一个inner元素，这个元素的<strong>宽度不设置</strong></li>
<li>去除圣杯布局的定位信息</li>
</ul>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>

<!--
 * @Author       : licheng252@xdf.cn
 * @Date         : 2020-04-21 16:01:24
 * @LastEditors  : licheng252@xdf.cn
 * @LastEditTime : 2020-05-11 21:27:37
 * @Description  : 描述信息
 -->




  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/2020/07/05/base-2/">css:盒模型，box-sizing应用场景</a></h1>
  

      
        <time datetime="2020-07-05T10:33:41.000Z">2020-07-05</time>
      
    </header>
    <div class="entry">
      
        <h2 id="盒模型的属性"><a href="#盒模型的属性" class="headerlink" title="盒模型的属性"></a>盒模型的属性</h2><p>由内向外：<br>  content -&gt; padding 内边距 -&gt; border 边框 -&gt; margin 外边距</p>
<p>盒子模型只包括两种：</p>
<ul>
<li>标准盒模型</li>
<li>怪异盒模型</li>
</ul>
<h2 id="标准盒模型"><a href="#标准盒模型" class="headerlink" title="标准盒模型"></a>标准盒模型</h2><p>  <strong>width、height</strong><br>  在标准盒模型中，width是content的宽度, height 是content的高度</p>
<h2 id="怪异盒模型"><a href="#怪异盒模型" class="headerlink" title="怪异盒模型"></a>怪异盒模型</h2><p><strong>width、height</strong><br>在怪异盒模型中，width是content + padding + border的宽度, height 是content的高度</p>
<ul>
<li><strong>触发怪异盒模型的方式</strong><ul>
<li>在ie6、7、8下html文件缺少<!DOCTYPE html></li>
<li>box-sizing: border-box 开启div的怪异盒模型</li>
</ul>
</li>
</ul>
<h2 id="box-sizing"><a href="#box-sizing" class="headerlink" title="box-sizing"></a>box-sizing</h2><p>它的取值：</p>
<ul>
<li>content-box 默认，标准盒模型</li>
<li>border-box 怪异盒模型</li>
<li>padding-box 兼容巨差</li>
</ul>
<p>为啥没有margin-box,如果设置了，会和现在很多标准冲突，最简单的例子就是background怎么办</p>
<h2 id="弹性盒子FlexBox"><a href="#弹性盒子FlexBox" class="headerlink" title="弹性盒子FlexBox"></a>弹性盒子FlexBox</h2><p>display: flex<br>省略，天天用就行了</p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>

<!--
 * @Author       : licheng252@xdf.cn
 * @Date         : 2020-04-21 16:01:24
 * @LastEditors  : licheng252@xdf.cn
 * @LastEditTime : 2020-05-11 21:27:37
 * @Description  : 描述信息
 -->




  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/2020/07/03/base-1/">css:box-shadow</a></h1>
  

      
        <time datetime="2020-07-03T09:36:45.000Z">2020-07-03</time>
      
    </header>
    <div class="entry">
      
        <h2 id="ie8以上"><a href="#ie8以上" class="headerlink" title="ie8以上"></a><em>ie8以上</em></h2><h2 id="box-shadow-怎么产生的"><a href="#box-shadow-怎么产生的" class="headerlink" title="box-shadow 怎么产生的"></a><em>box-shadow 怎么产生的</em></h2><ol>
<li>首先在元素下面生成一个一样的大小的，位置重叠的，颜色等同于《color》的div</li>
<li>四边向外或者向内做高斯模糊，在blur-radius长度内做完模糊，类似正态分布，只是边就算是坐标0点</li>
<li>根据xy-offset偏移量移动</li>
<li>删除和真实div重合部分</li>
</ol>
<h2 id="box-shadow-的属性较多"><a href="#box-shadow-的属性较多" class="headerlink" title="box-shadow 的属性较多"></a>box-shadow 的属性较多</h2><ul>
<li>‘inset’ 有则阴影在边框内部，阴影会在边框之内 (即使是透明边框）、背景之上、内容之下</li>
<li>x-offset 向右偏移量</li>
<li>y-offset 向下偏移量</li>
<li>blur-radius 模糊半径。值越大，模糊面积越大。 默认0，此时阴影边缘是锐利的，不能是负的。（高斯模糊）</li>
<li>spread-radius 那个根据真实的div产生的虚拟元素的大小扩展半径</li>
<li>color</li>
</ul>
<h2 id="内阴影，四边阴影，双边阴影"><a href="#内阴影，四边阴影，双边阴影" class="headerlink" title="内阴影，四边阴影，双边阴影"></a>内阴影，四边阴影，双边阴影</h2><ul>
<li>内阴影</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>四边阴影</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>相临边阴影</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">10px</span> <span class="number">10px</span> <span class="number">10px</span> <span class="number">0px</span> <span class="number">#000</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>向右和向下分别移动10px，模糊半径也是10px，刚好被真实div盖住两边</p>
<h2 id="单边阴影"><a href="#单边阴影" class="headerlink" title="单边阴影"></a>单边阴影</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">10px</span> <span class="number">10px</span> -<span class="number">10px</span> <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个也好懂了。</p>
<ol>
<li>首先四边模糊半径10px；</li>
<li>然后向下偏移10px；</li>
<li>四边阴影长度分别是： 上右下左： 0 10px 20px 10px;</li>
<li>然后-10px的阴影扩展长度；(各减去10)</li>
<li>四边阴影长度分别是： 上右下左： -10px 0px 10px 0px;</li>
</ol>
<h2 id="多阴影规则"><a href="#多阴影规则" class="headerlink" title="多阴影规则"></a>多阴影规则</h2><p>  逗号隔开，最左的阴影在最上层，覆盖右侧写的阴影样式</p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>

<!--
 * @Author       : licheng252@xdf.cn
 * @Date         : 2020-04-21 16:01:24
 * @LastEditors  : licheng252@xdf.cn
 * @LastEditTime : 2020-05-11 21:27:37
 * @Description  : 描述信息
 -->




  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/2020/07/03/base-0/">css:BFC</a></h1>
  

      
        <time datetime="2020-07-03T07:21:03.000Z">2020-07-03</time>
      
    </header>
    <div class="entry">
      
        <p>Block Formatting Content</p>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>中文名：块级格式化上下文</p>
<p>首先明确几个定义</p>
<ul>
<li><p>普通流<br>普通流元素，行内元素横向排列，超出换行。块级元素独占一行。上至下排列。</p>
</li>
<li><p>浮动<br>在浮动布局中，元素首先在正常文档流位置，然后根据浮动方向，尽可能的向这个方向移动。渲染效果和文字环绕效果类似。</p>
</li>
<li><p>绝对定位<br>绝对定位的元素完全<em>脱离了文档流</em>，不会占用普通文档流的位置，根据定位信息确定位置，在另外的层级。</p>
</li>
</ul>
<h3 id="BFC属于普通流元素"><a href="#BFC属于普通流元素" class="headerlink" title="BFC属于普通流元素"></a>BFC属于普通流元素</h3><p>  它可以被视作一个完全和外界隔离的独立容器，<em>不会对外界产生影响</em></p>
<h2 id="触发元素的BFC"><a href="#触发元素的BFC" class="headerlink" title="触发元素的BFC"></a>触发元素的BFC</h2><ul>
<li>root元素</li>
<li>display: inline-block; table-cell; flex;</li>
<li>float 除了none不设置之外的</li>
<li>position: fixed; absolute; 绝对定位元素</li>
<li>overflow: visible 之外的值 auto scroll hidden</li>
</ul>
<p>可以知道，这些元素的内部无论怎么变化折腾，都不会对外界元素产生影响。<br>也就可以理解为什么overflow:visible 会被排除在外了。</p>
<h2 id="BFC内部"><a href="#BFC内部" class="headerlink" title="BFC内部"></a>BFC内部</h2><p>root元素都是BFC，可以说整个DOM文档流都是BFC内部元素。</p>
<p>刚刚说了BFC不会对外部元素影响。</p>
<p>那么它内部的非BFC元素还是会互相影响的。</p>
<p>互相影响会出现的问题</p>
<ul>
<li>上下边距margint融合问题</li>
<li>浮动（怎么清除浮动）</li>
<li>占用其他元素内容区域（float）</li>
</ul>
<h2 id="BFC可以做什么"><a href="#BFC可以做什么" class="headerlink" title="BFC可以做什么"></a>BFC可以做什么</h2><p>通过给元素设置成BFC，解决问题：</p>
<ul>
<li><p>上下边距融合问题<br>根据BFC特性，只要把其中一个元素设置成BFC（增加overflow:hidden），它就不会对外界元素产生影响。</p>
</li>
<li><p>清除浮动<br>给浮动元素设置成BFC，即使它子元素只有浮动元素。也会被撑起来。因为BFC的内部元素不应该超出自己的元素内部。</p>
</li>
<li><p>两栏布局<br>左侧元素float。右侧元素的一部分会被浮动元素占据，形成环绕效果。</p>
</li>
</ul>
<p>给右侧元素设置成BFC，可以实现两栏布局。</p>
<p>左右都是BFC不会互相影响。</p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>

<!--
 * @Author       : licheng252@xdf.cn
 * @Date         : 2020-04-21 16:01:24
 * @LastEditors  : licheng252@xdf.cn
 * @LastEditTime : 2020-05-11 21:27:37
 * @Description  : 描述信息
 -->




  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/2020/07/02/webpack-2/">webpack:文件处理</a></h1>
  

      
        <time datetime="2020-07-02T05:54:00.000Z">2020-07-02</time>
      
    </header>
    <div class="entry">
      
        <h2 id="file-loader"><a href="#file-loader" class="headerlink" title="file-loader"></a>file-loader</h2><p>  作用是移动文件，原始文件名加哈希值放在指定文件夹</p>
<h2 id="url-loader"><a href="#url-loader" class="headerlink" title="url-loader"></a>url-loader</h2><p>  options: {<br>    limit: 10000,<br>    name: utils.assetsPath(‘img/[name].[contenthash:8].[ext]’)<br>  }</p>
<p>  小于limit的文件打包成base64</p>
<h2 id="无损压缩"><a href="#无损压缩" class="headerlink" title="无损压缩"></a>无损压缩</h2><p>  image-webpack-loader</p>
<p>  注意点就是，mac上 npm yarn都按不上，cnpm按的上</p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>

<!--
 * @Author       : licheng252@xdf.cn
 * @Date         : 2020-04-21 16:01:24
 * @LastEditors  : licheng252@xdf.cn
 * @LastEditTime : 2020-05-11 21:27:37
 * @Description  : 描述信息
 -->




  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/2020/07/01/webpack-1/">webpack:MiniCssExtractPlugin问题</a></h1>
  

      
        <time datetime="2020-07-01T12:26:16.000Z">2020-07-01</time>
      
    </header>
    <div class="entry">
      
        <h2 id="MiniCssExtractPlugin"><a href="#MiniCssExtractPlugin" class="headerlink" title="MiniCssExtractPlugin"></a>MiniCssExtractPlugin</h2><p>  css文件，在build的最后，需要生成css文件。</p>
<p>  mode是production的情况下,关于css-loader的需要加MiniCssExtractPlugin.loader</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// loaders</span></span><br><span class="line">modules: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: <span class="regexp">/.scss$/</span>,</span><br><span class="line">      use: [</span><br><span class="line">        MiniCssExtractPlugin.loader,</span><br><span class="line">        <span class="string">'style-loader'</span>,</span><br><span class="line">        <span class="string">'css-loader'</span>,</span><br><span class="line">        <span class="string">'scss-loader'</span>,</span><br><span class="line">        <span class="string">'postcss-loader'</span></span><br><span class="line">        ...</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  然后在build的webpack配置里加一个MiniCssExtractPlugin</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// css打包成文件</span></span><br><span class="line">  <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">    filename: utils.assetsPath(<span class="string">'css/[name].[contenthash:8].css'</span>), <span class="comment">// contenthash根据内容生成哈希</span></span><br><span class="line">    allChunks: <span class="literal">false</span>,</span><br><span class="line">  &#125;),</span><br><span class="line">  ...</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="导致的问题"><a href="#导致的问题" class="headerlink" title="导致的问题"></a>导致的问题</h2><p>  提示：AAA 文件和 BBB 文件的引用顺序有问题<br>  这是MiniCssExtractPlugin的warning<br>  如果没有对css文件进行代码分割splitChunks，并且使用了sass-resources-loader设置了全局scss文件<br>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  loader:<span class="string">'sass-resources-loader'</span>,</span><br><span class="line">  options:&#123;</span><br><span class="line">    resources: [resolveResource(<span class="string">'AAA.scss'</span>), resolveResource(<span class="string">'BBB.scss'</span>)]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>  原因是没有把多次引用的css文件单独打成一个文件，引用错乱</p>
<h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><p>  利用splitChunks做代码分割，引用次数大于2的chunk单独打包成一个文件<br>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">optimization: &#123;</span><br><span class="line">  splitChunks: &#123;</span><br><span class="line">    maxSize: <span class="number">244</span> * <span class="number">1024</span>,</span><br><span class="line">    minChunks: <span class="number">2</span>, <span class="comment">// 最小 chunk ，默认1,引用次数大于它的打包</span></span><br><span class="line">    cacheGroups: &#123; <span class="comment">// 这里开始设置缓存的 chunks</span></span><br><span class="line">      commons: &#123;</span><br><span class="line">        chunks: <span class="string">'all'</span>, <span class="comment">// 必须三选一： "initial" | "all" | "async" 同步引用，异步引用还是所有</span></span><br><span class="line">        minSize: <span class="number">0</span>, <span class="comment">// 最小尺寸，默认0,</span></span><br><span class="line">        maxInitialRequests: <span class="number">5</span> <span class="comment">// 最大初始化请求书，默认1</span></span><br><span class="line">      &#125;,</span><br><span class="line">      vendor: &#123;</span><br><span class="line">        name: <span class="string">'vendor'</span>, <span class="comment">// 要缓存的 分隔出来的 chunk 名称</span></span><br><span class="line">        test: <span class="regexp">/node_modules/</span>, <span class="comment">// 正则规则验证，如果符合就提取 chunk</span></span><br><span class="line">        chunks: <span class="string">'all'</span>,</span><br><span class="line">        priority: <span class="number">-10</span>,</span><br><span class="line">        enforce: <span class="literal">true</span></span><br><span class="line">      &#125;,</span><br><span class="line">      styles: &#123;</span><br><span class="line">        name: <span class="string">'style'</span>,</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        chunks: <span class="string">'all'</span>,</span><br><span class="line">        enforce: <span class="literal">true</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  runtimeChunk: <span class="literal">true</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>

<!--
 * @Author       : licheng252@xdf.cn
 * @Date         : 2020-04-21 16:01:24
 * @LastEditors  : licheng252@xdf.cn
 * @LastEditTime : 2020-05-11 21:27:37
 * @Description  : 描述信息
 -->




  <article class="post">
  <div class="post-content">
    <header>
      
  
    <h1 class="title"><a href="/2020/06/22/vue-0-md/">vue的基本概览.md</a></h1>
  

      
        <time datetime="2020-06-22T05:57:11.000Z">2020-06-22</time>
      
    </header>
    <div class="entry">
      
        <h2 id="new-Vue之后发生了什么"><a href="#new-Vue之后发生了什么" class="headerlink" title="new Vue之后发生了什么"></a>new Vue之后发生了什么</h2><p>首先，vue创建的时候会提示选择版本:</p>
<ul>
<li><p>Runtime Only<br>一般选择这个版本，使用webpack的vue-loader编译成基本的html，js文件<br>它的Compiler过程放在了编译阶段</p>
</li>
<li><p>Runtime + Compiler<br>运行时编译template，很耗性能</p>
</li>
</ul>
<h2 id="运行时编译的流程分析起来比较清晰"><a href="#运行时编译的流程分析起来比较清晰" class="headerlink" title="运行时编译的流程分析起来比较清晰"></a>运行时编译的流程分析起来比较清晰</h2><p>他分成几个阶段：</p>
<ol>
<li>创建compiler对象</li>
<li>把其他写法的诸如template写法改成render函数</li>
<li>调用$mount方法创建VNode</li>
</ol>
<h2 id="创建虚拟DOM"><a href="#创建虚拟DOM" class="headerlink" title="创建虚拟DOM"></a>创建虚拟DOM</h2><p>因为在 Vue.js 2.0 中，最终渲染都是通过 render 函数.<br>如果写 template 属性，则需要编译成 render 函数，那么这个编译过程会发生运行时，所以需要带有编译器的版本。</p>
<ul>
<li>无论是template 还是 string 还是 render 方式的模版， vue 都会先处理成render方式，进行编译</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">render: <span class="function">(<span class="params">createElement</span>) =&gt;</span> &#123;</span><br><span class="line">  createElement(<span class="string">'div'</span>, &#123;</span><br><span class="line">    attrs: &#123;</span><br><span class="line">      id: <span class="string">'app'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, children)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>vue 内部调用 vm._createElement()方法创建虚拟DOM</p>

      
    </div>
      
        
        
      
      <div class="clearfix"></div>
      </footer>
  </div>
</article>

<!--
 * @Author       : licheng252@xdf.cn
 * @Date         : 2020-04-21 16:01:24
 * @LastEditors  : licheng252@xdf.cn
 * @LastEditTime : 2020-05-11 21:27:37
 * @Description  : 描述信息
 -->





<nav id="pagination">
  
    <a href="/" class="alignleft prev">Prev</a>
  
  
    <a href="/page/3/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav></div></div>
    <aside id="sidebar" class="alignright">
  <!--
 * @Author       : licheng252@xdf.cn
 * @Date         : 2020-04-21 16:01:24
 * @LastEditors  : licheng252@xdf.cn
 * @LastEditTime : 2020-05-11 20:48:26
 * @Description  : 描述信息
 -->

<div class="widget tag">
  <h3 class="title">目录</h3>
  <ul class="entry">
    
      <li>
        <a href="/2020/12/02/base-6/">js里的位运算</a>
      </li>
    
      <li>
        <a href="/2020/11/25/base-5/">写一下排序算法</a>
      </li>
    
      <li>
        <a href="/2020/11/18/js-base-7/">手写promise</a>
      </li>
    
      <li>
        <a href="/2020/10/28/browser-3/">WebWorkers</a>
      </li>
    
      <li>
        <a href="/2020/10/22/js-base-6/">手写Promise.all-limit</a>
      </li>
    
      <li>
        <a href="/2020/10/21/browser-2/">http</a>
      </li>
    
      <li>
        <a href="/2020/10/21/browser-1/">浏览器：浏览器缓存机制</a>
      </li>
    
      <li>
        <a href="/2020/09/07/vue-1/">vue-1</a>
      </li>
    
      <li>
        <a href="/2020/09/07/css-1/">层叠上下文（内附浏览器渲染流程）</a>
      </li>
    
      <li>
        <a href="/2020/08/25/service-0/">CentOS8搭建nexus</a>
      </li>
    
      <li>
        <a href="/2020/07/08/js-base-5/">js基础:this指向call、apply、bind</a>
      </li>
    
      <li>
        <a href="/2020/07/06/js-base-4/">js基础--js执行机制</a>
      </li>
    
      <li>
        <a href="/2020/07/06/base-4/">js:x=y=0;a.x=a={n:1}</a>
      </li>
    
      <li>
        <a href="/2020/07/05/base-3/">css:两栏、三栏、圣杯、双飞翼布局</a>
      </li>
    
      <li>
        <a href="/2020/07/05/base-2/">css:盒模型，box-sizing应用场景</a>
      </li>
    
      <li>
        <a href="/2020/07/03/base-1/">css:box-shadow</a>
      </li>
    
      <li>
        <a href="/2020/07/03/base-0/">css:BFC</a>
      </li>
    
      <li>
        <a href="/2020/07/02/webpack-2/">webpack:文件处理</a>
      </li>
    
      <li>
        <a href="/2020/07/01/webpack-1/">webpack:MiniCssExtractPlugin问题</a>
      </li>
    
      <li>
        <a href="/2020/06/22/vue-0-md/">vue的基本概览.md</a>
      </li>
    
      <li>
        <a href="/2020/05/21/nginx/">nginx操作</a>
      </li>
    
      <li>
        <a href="/2020/05/06/js-base-3/">js基础 -- 执行上下文，变量环境，词法环境，作用域相关</a>
      </li>
    
      <li>
        <a href="/2020/05/04/webpack-0/">webpack:基础知识</a>
      </li>
    
      <li>
        <a href="/2020/05/02/js-base-2/">js基础 --原型相关方法，Object，Reflect</a>
      </li>
    
      <li>
        <a href="/2020/04/30/js-base-1/">js基础 --类和继承</a>
      </li>
    
      <li>
        <a href="/2020/04/25/js-base-0/">js基础 --原型链</a>
      </li>
    
      <li>
        <a href="/2020/04/23/functional-2/">函数式编程 --组合和管道</a>
      </li>
    
      <li>
        <a href="/2020/04/22/functional-1/">函数式编程 --函数的柯里化</a>
      </li>
    
      <li>
        <a href="/2020/04/21/functional-0/">函数式编程 --纯函数</a>
      </li>
    
      <li>
        <a href="/2020/04/21/wasm-2/">WASM（二）</a>
      </li>
    
      <li>
        <a href="/2020/03/21/wasm-1/">WASM（一）</a>
      </li>
    
  </ul>
</div>


  

  
</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2020 triumphLic
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



</body>
</html>

